{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nico/Projects/Cocktails_new/cocktails/lib/db.ts"],"sourcesContent":["import sqlite3 from \"sqlite3\";\r\nimport { open } from \"sqlite\";\r\n\r\nconst db = await open({\r\n    filename: \"./db.db\",\r\n    driver: sqlite3.Database\r\n});\r\n\r\nawait db.exec(`\r\n    DROP TABLE IF EXISTS Cocktail;\r\n    DROP TABLE IF EXISTS Step;\r\n    DROP TABLE IF EXISTS Ingredient;\r\n    DROP TABLE IF EXISTS Cocktail_Ingredient;\r\n`);\r\n\r\nawait db.exec(`\r\n    CREATE TABLE IF NOT EXISTS Cocktail (\r\n        Cocktail_ID INTEGER PRIMARY KEY AUTOINCREMENT,\r\n        Name TEXT,\r\n        Description TEXT\r\n    );\r\n\r\n    CREATE TABLE IF NOT EXISTS Step (\r\n        Step_ID INTEGER PRIMARY KEY AUTOINCREMENT,\r\n        Cocktail_ID INTEGER,\r\n        Number INTEGER,\r\n        Description TEXT,\r\n        FOREIGN KEY (Cocktail_ID) REFERENCES Cocktail(Cocktail_ID)\r\n    );\r\n\r\n    CREATE TABLE IF NOT EXISTS Ingredient (\r\n        Ingredient_ID INTEGER PRIMARY KEY AUTOINCREMENT,\r\n        Name TEXT\r\n    );\r\n\r\n    CREATE TABLE IF NOT EXISTS Cocktail_Ingredient (\r\n        Cocktail_ID INTEGER,\r\n        Ingredient_ID INTEGER,\r\n        Amount DECIMAL,\r\n        Unit TEXT,\r\n        Optional BOOLEAN,\r\n        FOREIGN KEY (Cocktail_ID) REFERENCES Cocktail(Cocktail_ID),\r\n        FOREIGN KEY (Ingredient_ID) REFERENCES Ingredient(Ingredient_ID)\r\n    );\r\n`);\r\n\r\n// Beispiel-Daten einfügen (nur einmal, bei Konflikt wird die Einfügung ignoriert)\r\nawait db.exec(`\r\n    BEGIN TRANSACTION;\r\n\r\n    INSERT OR IGNORE INTO Cocktail (Cocktail_ID, Name, Description) VALUES\r\n        (1, 'Mojito', 'Erfrischender Cocktail mit Limette, Minze und Rum'),\r\n        (2, 'Negroni', 'Bitter-süßer Cocktail mit Gin, Campari und Vermouth');\r\n\r\n    INSERT OR IGNORE INTO Step (Step_ID, Cocktail_ID, Number, Description) VALUES\r\n        (1, 1, 1, \"Limetten und Zucker\"), -- Mojito: Limetten und Zucker\r\n        (2, 1, 2, \"Minze zerstoßen\"), -- Mojito: Minze zerstoßen\r\n        (3, 1, 3, \"Rum und Soda\"), -- Mojito: Rum und Soda\r\n        (4, 2, 1, \"Zutaten ins Glas\"), -- Negroni: Zutaten ins Glas\r\n        (5, 2, 2, \"Rühren\"); -- Negroni: Rühren\r\n\r\n    INSERT OR IGNORE INTO Ingredient (Ingredient_ID, Name) VALUES\r\n        (1, 'Limette'),\r\n        (2, 'Minze'),\r\n        (3, 'Weißer Rum'),\r\n        (4, 'Zucker'),\r\n        (5, 'Soda'),\r\n        (6, 'Gin'),\r\n        (7, 'Campari'),\r\n        (8, 'Wermut');\r\n\r\n    INSERT OR IGNORE INTO Cocktail_Ingredient (Cocktail_ID, Ingredient_ID, Amount, Unit, Optional) VALUES\r\n        -- Mojito\r\n        (1, 1, 1, 'piece', 0), -- Limette\r\n        (1, 2, 8, 'leaves', 0), -- Minze\r\n        (1, 3, 50, 'ml', 0), -- Weißer Rum\r\n        (1, 4, 2, 'tsp', 0), -- Zucker\r\n        (1, 5, 50, 'ml', 0), -- Soda\r\n        -- Negroni\r\n        (2, 6, 30, 'ml', 0), -- Gin\r\n        (2, 7, 30, 'ml', 0), -- Campari\r\n        (2, 8, 30, 'ml', 0); -- Wermut\r\n\r\n    COMMIT;\r\n`);\r\n\r\nexport { db };"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,KAAK,MAAM,IAAA,mKAAI,EAAC;IAClB,UAAU;IACV,QAAQ,kHAAO,CAAC,QAAQ;AAC5B;AAEA,MAAM,GAAG,IAAI,CAAC,CAAC;;;;;AAKf,CAAC;AAED,MAAM,GAAG,IAAI,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6Bf,CAAC;AAED,kFAAkF;AAClF,MAAM,GAAG,IAAI,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCf,CAAC"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nico/Projects/Cocktails_new/cocktails/app/api/cocktails/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { db } from \"@/lib/db\";\r\nexport async function GET(request: Request) {\r\n    const cocktails = await db.all(\"SELECT Name, Description FROM Cocktail\");\r\n    return NextResponse.json(cocktails)\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;AACO,eAAe,IAAI,OAAgB;IACtC,MAAM,YAAY,MAAM,8HAAE,CAAC,GAAG,CAAC;IAC/B,OAAO,6JAAY,CAAC,IAAI,CAAC;AAC7B"}}]
}